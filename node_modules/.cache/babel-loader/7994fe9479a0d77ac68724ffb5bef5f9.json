{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/murbe/Documents/Python/company/web_dev/react/boxing-greats/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/murbe/Documents/Python/company/web_dev/react/boxing-greats/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/murbe/Documents/Python/company/web_dev/react/boxing-greats/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{useSelector,useDispatch}from\"react-redux\";import{selectAddBoxer}from\"../features/addBoxerSlice\";import{selectSearchBoxer}from\"../features/searchBoxerSlice\";import{selectViewBoxer}from\"../features/selectBoxerSlice\";import BoxerCard from\"./BoxerCard\";import\"./Boxers.css\";import{useParams}from\"react-router\";import{jsx as _jsx}from\"react/jsx-runtime\";function Boxers(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),boxers=_useState2[0],setBoxers=_useState2[1];var addNewBoxerOpen=useSelector(selectAddBoxer);var searchAllBoxersOpen=useSelector(selectSearchBoxer);var params=useParams();var dispatch=useDispatch();useEffect(function(){function getBoxers(){return _getBoxers.apply(this,arguments);}function _getBoxers(){_getBoxers=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,message,boxers;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"http://localhost:5000/record/\");case 2:response=_context.sent;if(response.ok){_context.next=7;break;}message=\"An error occurred: \".concat(response.statusText);window.alert(message);return _context.abrupt(\"return\");case 7:_context.next=9;return response.json();case 9:boxers=_context.sent;setBoxers(boxers);case 11:case\"end\":return _context.stop();}}},_callee);}));return _getBoxers.apply(this,arguments);}getBoxers();return;},[addNewBoxerOpen]);useEffect(function(){function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var response,message,boxersResponse;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"http://localhost:5000/record/\".concat(searchAllBoxersOpen.toString()));case 2:response=_context2.sent;if(response.ok){_context2.next=7;break;}message=\"An error has occurred: \".concat(response.statusText);window.alert(message);return _context2.abrupt(\"return\");case 7:_context2.next=9;return response.json();case 9:boxersResponse=_context2.sent;if(boxersResponse){setBoxers(boxersResponse);}case 11:case\"end\":return _context2.stop();}}},_callee2);}));return _fetchData.apply(this,arguments);}fetchData();return;},[searchAllBoxersOpen]);var CardClicked=function CardClicked(event,name){dispatch(selectViewBoxer(name));};return/*#__PURE__*/_jsx(\"div\",{className:\"boxers__container\",children:boxers.map(function(boxer,index){return/*#__PURE__*/_jsx(BoxerCard,{id:boxer._id,name:boxer.name,image:require(\"../images/\".concat(boxer.primaryImageName)),record:\"\".concat(boxer.wins,\"-\").concat(boxer.losses,\"-\").concat(boxer.draws),yearsActive:\"\".concat(boxer.debut,\"-\").concat(boxer.retire),onClick:function onClick(event){return CardClicked(event,boxer);}},index);})});}export default Boxers;","map":{"version":3,"names":["React","useEffect","useState","useSelector","useDispatch","selectAddBoxer","selectSearchBoxer","selectViewBoxer","BoxerCard","useParams","Boxers","boxers","setBoxers","addNewBoxerOpen","searchAllBoxersOpen","params","dispatch","getBoxers","fetch","response","ok","message","statusText","window","alert","json","fetchData","toString","boxersResponse","CardClicked","event","name","map","boxer","index","_id","require","primaryImageName","wins","losses","draws","debut","retire"],"sources":["C:/Users/murbe/Documents/Python/company/web_dev/react/boxing-greats/src/components/Boxers.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { selectAddBoxer } from \"../features/addBoxerSlice\";\r\nimport { selectSearchBoxer } from \"../features/searchBoxerSlice\";\r\nimport { selectViewBoxer } from \"../features/selectBoxerSlice\";\r\nimport BoxerCard from \"./BoxerCard\";\r\nimport \"./Boxers.css\";\r\nimport { useParams } from \"react-router\";\r\n\r\nfunction Boxers() {\r\n  const [boxers, setBoxers] = useState([]);\r\n  const addNewBoxerOpen = useSelector(selectAddBoxer);\r\n  const searchAllBoxersOpen = useSelector(selectSearchBoxer);\r\n  const params = useParams();\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    async function getBoxers() {\r\n      const response = await fetch(\"http://localhost:5000/record/\");\r\n\r\n      if (!response.ok) {\r\n        const message = `An error occurred: ${response.statusText}`;\r\n        window.alert(message);\r\n        return;\r\n      }\r\n      const boxers = await response.json();\r\n      setBoxers(boxers);\r\n    }\r\n    getBoxers();\r\n    return;\r\n  }, [addNewBoxerOpen]);\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      const response = await fetch(\r\n        `http://localhost:5000/record/${searchAllBoxersOpen.toString()}`\r\n      );\r\n      if (!response.ok) {\r\n        const message = `An error has occurred: ${response.statusText}`;\r\n        window.alert(message);\r\n        return;\r\n      }\r\n      const boxersResponse = await response.json();\r\n      if (boxersResponse) {\r\n        setBoxers(boxersResponse);\r\n      }\r\n    }\r\n    fetchData();\r\n    return;\r\n  }, [searchAllBoxersOpen]);\r\n\r\n  const CardClicked = (event, name) => {\r\n    dispatch(selectViewBoxer(name));\r\n  };\r\n\r\n  return (\r\n    <div className=\"boxers__container\">\r\n      {boxers.map((boxer, index) => {\r\n        return (\r\n          <BoxerCard\r\n            key={index}\r\n            id={boxer._id}\r\n            name={boxer.name}\r\n            image={require(`../images/${boxer.primaryImageName}`)}\r\n            record={`${boxer.wins}-${boxer.losses}-${boxer.draws}`}\r\n            yearsActive={`${boxer.debut}-${boxer.retire}`}\r\n            onClick={(event) => CardClicked(event, boxer)}\r\n          />\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Boxers;\r\n"],"mappings":"2dAAA,MAAOA,MAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,cAAT,KAA+B,2BAA/B,CACA,OAASC,iBAAT,KAAkC,8BAAlC,CACA,OAASC,eAAT,KAAgC,8BAAhC,CACA,MAAOC,UAAP,KAAsB,aAAtB,CACA,MAAO,cAAP,CACA,OAASC,SAAT,KAA0B,cAA1B,C,2CAEA,QAASC,OAAT,EAAkB,CAChB,cAA4BR,QAAQ,CAAC,EAAD,CAApC,wCAAOS,MAAP,eAAeC,SAAf,eACA,GAAMC,gBAAe,CAAGV,WAAW,CAACE,cAAD,CAAnC,CACA,GAAMS,oBAAmB,CAAGX,WAAW,CAACG,iBAAD,CAAvC,CACA,GAAMS,OAAM,CAAGN,SAAS,EAAxB,CACA,GAAMO,SAAQ,CAAGZ,WAAW,EAA5B,CAEAH,SAAS,CAAC,UAAM,SACCgB,UADD,uIACd,uLACyBC,MAAK,CAAC,+BAAD,CAD9B,QACQC,QADR,kBAGOA,QAAQ,CAACC,EAHhB,yBAIUC,OAJV,8BAI0CF,QAAQ,CAACG,UAJnD,EAKIC,MAAM,CAACC,KAAP,CAAaH,OAAb,EALJ,8DAQuBF,SAAQ,CAACM,IAAT,EARvB,QAQQd,MARR,eASEC,SAAS,CAACD,MAAD,CAAT,CATF,uDADc,4CAYdM,SAAS,GACT,OACD,CAdQ,CAcN,CAACJ,eAAD,CAdM,CAAT,CAgBAZ,SAAS,CAAC,UAAM,SACCyB,UADD,uIACd,qMACyBR,MAAK,wCACMJ,mBAAmB,CAACa,QAApB,EADN,EAD9B,QACQR,QADR,mBAIOA,QAAQ,CAACC,EAJhB,0BAKUC,OALV,kCAK8CF,QAAQ,CAACG,UALvD,EAMIC,MAAM,CAACC,KAAP,CAAaH,OAAb,EANJ,gEAS+BF,SAAQ,CAACM,IAAT,EAT/B,QASQG,cATR,gBAUE,GAAIA,cAAJ,CAAoB,CAClBhB,SAAS,CAACgB,cAAD,CAAT,CACD,CAZH,yDADc,4CAedF,SAAS,GACT,OACD,CAjBQ,CAiBN,CAACZ,mBAAD,CAjBM,CAAT,CAmBA,GAAMe,YAAW,CAAG,QAAdA,YAAc,CAACC,KAAD,CAAQC,IAAR,CAAiB,CACnCf,QAAQ,CAACT,eAAe,CAACwB,IAAD,CAAhB,CAAR,CACD,CAFD,CAIA,mBACE,YAAK,SAAS,CAAC,mBAAf,UACGpB,MAAM,CAACqB,GAAP,CAAW,SAACC,KAAD,CAAQC,KAAR,CAAkB,CAC5B,mBACE,KAAC,SAAD,EAEE,EAAE,CAAED,KAAK,CAACE,GAFZ,CAGE,IAAI,CAAEF,KAAK,CAACF,IAHd,CAIE,KAAK,CAAEK,OAAO,qBAAcH,KAAK,CAACI,gBAApB,EAJhB,CAKE,MAAM,WAAKJ,KAAK,CAACK,IAAX,aAAmBL,KAAK,CAACM,MAAzB,aAAmCN,KAAK,CAACO,KAAzC,CALR,CAME,WAAW,WAAKP,KAAK,CAACQ,KAAX,aAAoBR,KAAK,CAACS,MAA1B,CANb,CAOE,OAAO,CAAE,iBAACZ,KAAD,QAAWD,YAAW,CAACC,KAAD,CAAQG,KAAR,CAAtB,EAPX,EACOC,KADP,CADF,CAWD,CAZA,CADH,EADF,CAiBD,CAED,cAAexB,OAAf"},"metadata":{},"sourceType":"module"}