{"ast":null,"code":"import _objectSpread from\"C:/Users/murbe/Documents/Python/company/web_dev/react/boxing-greats/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"C:/Users/murbe/Documents/Python/company/web_dev/react/boxing-greats/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/murbe/Documents/Python/company/web_dev/react/boxing-greats/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/murbe/Documents/Python/company/web_dev/react/boxing-greats/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import Modal from\"react-bootstrap/Modal\";import\"./ViewBoxer.css\";import{useDispatch,useSelector}from\"react-redux\";import{selectCurrentBoxer,selectToEditInfo,toggleEditInfoBar}from\"../features/selectBoxerSlice\";import{Button}from\"react-bootstrap\";import InputBar from\"./InputBar\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ViewBoxer(props){var currentBoxerInfo=useSelector(selectCurrentBoxer);var showEditInfo=useSelector(selectToEditInfo);var dispatch=useDispatch();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),infoArray=_useState2[0],setInfoArray=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),fullInfo=_useState4[0],setFullInfo=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),infoSubmitted=_useState6[0],setInfoSubmitted=_useState6[1];//=================================================\n// Code needed to get picture into ViewBoxer\n// Don't know why it is what it is but it worked and nothing else did\nif(currentBoxerInfo.imageName!==\"\"){var imgURL=require(\"../images/\".concat(currentBoxerInfo.backgroundImageName));}else{var imgURL=require(\"../images/default.jpg\");}//=================================================\nuseEffect(function(){function handleInfoSubmit(_x){return _handleInfoSubmit.apply(this,arguments);}function _handleInfoSubmit(){_handleInfoSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(id){var response,record,currentInfo;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"http://localhost:5000/getInfo/\".concat(id));case 2:response=_context.sent;_context.next=5;return response.json();case 5:record=_context.sent;currentInfo=record.info;setInfoArray(currentInfo.trim().split(\"\\n\"));case 8:case\"end\":return _context.stop();}}},_callee);}));return _handleInfoSubmit.apply(this,arguments);}handleInfoSubmit(currentBoxerInfo._id);setInfoSubmitted(false);},[currentBoxerInfo,infoSubmitted]);var newAdded=function newAdded(){setInfoSubmitted(true);};return/*#__PURE__*/_jsx(\"div\",{className:\"viewBoxer__container\",children:/*#__PURE__*/_jsxs(Modal,_objectSpread(_objectSpread({},props),{},{size:\"lg\",centered:true,children:[/*#__PURE__*/_jsx(\"div\",{className:\"viewBoxer__Header\",style:{backgroundImage:\"url(\"+imgURL+\")\"},children:/*#__PURE__*/_jsx(Modal.Header,{className:\"viewBoxer__ModalHeader\",children:/*#__PURE__*/_jsx(Modal.Title,{id:\"contained-modal-title-vcenter\",children:/*#__PURE__*/_jsx(\"div\",{className:\"viewBoxer__titleName\",children:/*#__PURE__*/_jsx(\"h1\",{children:currentBoxerInfo.name})})})})}),/*#__PURE__*/_jsxs(Modal.Body,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"viewBoxer__modalBody\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"viewBoxer__data\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"viewBoxer__dataLeft\",children:/*#__PURE__*/_jsx(\"h4\",{children:\"\".concat(currentBoxerInfo.debut,\"-\").concat(currentBoxerInfo.retire)})}),/*#__PURE__*/_jsx(\"div\",{className:\"viewBoxer__dataRight\",children:/*#__PURE__*/_jsx(\"h4\",{children:\"\".concat(currentBoxerInfo.wins,\"-\").concat(currentBoxerInfo.losses,\"-\").concat(currentBoxerInfo.draws)})})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"viewBoxer__info\",children:/*#__PURE__*/_jsx(\"ul\",{children:infoArray.map(function(item,index){return/*#__PURE__*/_jsx(\"li\",{children:item});})})})]}),showEditInfo&&/*#__PURE__*/_jsx(InputBar,{currentInfo:currentBoxerInfo.info,id:currentBoxerInfo._id,newAdded:newAdded})]}),/*#__PURE__*/_jsx(Modal.Footer,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"viewBoxer__footer\",children:[/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return dispatch(toggleEditInfoBar());},variant:\"danger\",children:\"Update Info\"}),/*#__PURE__*/_jsx(Button,{onClick:props.onHide,variant:\"danger\",children:\"Close\"})]})})]}))});}export default ViewBoxer;","map":{"version":3,"names":["React","useEffect","useState","Modal","useDispatch","useSelector","selectCurrentBoxer","selectToEditInfo","toggleEditInfoBar","Button","InputBar","ViewBoxer","props","currentBoxerInfo","showEditInfo","dispatch","infoArray","setInfoArray","fullInfo","setFullInfo","infoSubmitted","setInfoSubmitted","imageName","imgURL","require","backgroundImageName","handleInfoSubmit","id","fetch","response","json","record","currentInfo","info","trim","split","_id","newAdded","backgroundImage","name","debut","retire","wins","losses","draws","map","item","index","onHide"],"sources":["C:/Users/murbe/Documents/Python/company/web_dev/react/boxing-greats/src/components/ViewBoxer.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport \"./ViewBoxer.css\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n  selectCurrentBoxer,\r\n  selectToEditInfo,\r\n  toggleEditInfoBar,\r\n} from \"../features/selectBoxerSlice\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport InputBar from \"./InputBar\";\r\n\r\nfunction ViewBoxer(props) {\r\n  const currentBoxerInfo = useSelector(selectCurrentBoxer);\r\n  const showEditInfo = useSelector(selectToEditInfo);\r\n  const dispatch = useDispatch();\r\n  const [infoArray, setInfoArray] = useState([]);\r\n  const [fullInfo, setFullInfo] = useState(\"\");\r\n  const [infoSubmitted, setInfoSubmitted] = useState(false);\r\n\r\n  //=================================================\r\n  // Code needed to get picture into ViewBoxer\r\n  // Don't know why it is what it is but it worked and nothing else did\r\n  if (currentBoxerInfo.imageName !== \"\") {\r\n    var imgURL = require(`../images/${currentBoxerInfo.backgroundImageName}`);\r\n  } else {\r\n    var imgURL = require(`../images/default.jpg`);\r\n  }\r\n  //=================================================\r\n\r\n  useEffect(() => {\r\n    async function handleInfoSubmit(id) {\r\n      // Send GET request to get current infomation\r\n      const response = await fetch(`http://localhost:5000/getInfo/${id}`)\r\n      const record = await response.json();\r\n      var currentInfo = record.info\r\n      setInfoArray(currentInfo.trim().split(\"\\n\"));\r\n    }\r\n    handleInfoSubmit(currentBoxerInfo._id);\r\n    setInfoSubmitted(false);\r\n  }, [currentBoxerInfo, infoSubmitted]);\r\n\r\n  const newAdded = () => {\r\n    setInfoSubmitted(true);\r\n  }\r\n\r\n  return (\r\n    <div className=\"viewBoxer__container\">\r\n      <Modal {...props} size=\"lg\" centered>\r\n        <div className=\"viewBoxer__Header\" style={{backgroundImage: \"url(\" + imgURL + \")\"}}>\r\n          <Modal.Header className=\"viewBoxer__ModalHeader\">\r\n            <Modal.Title id=\"contained-modal-title-vcenter\">\r\n              <div className=\"viewBoxer__titleName\">\r\n                <h1>{currentBoxerInfo.name}</h1>\r\n              </div>\r\n            </Modal.Title>\r\n          </Modal.Header>\r\n        </div>\r\n        <Modal.Body>\r\n          <div className=\"viewBoxer__modalBody\">\r\n            <div className=\"viewBoxer__data\">\r\n              <div className=\"viewBoxer__dataLeft\">\r\n                <h4>{`${currentBoxerInfo.debut}-${currentBoxerInfo.retire}`}</h4>\r\n              </div>\r\n              <div className=\"viewBoxer__dataRight\">\r\n                <h4>{`${currentBoxerInfo.wins}-${currentBoxerInfo.losses}-${currentBoxerInfo.draws}`}</h4>\r\n              </div>\r\n            </div>\r\n            <hr />\r\n            <div className=\"viewBoxer__info\">\r\n              <ul>\r\n                {infoArray.map((item, index) => {\r\n                  return <li>{item}</li>;\r\n                })}\r\n              </ul>\r\n            </div>\r\n          </div>\r\n          {showEditInfo && (\r\n            <InputBar\r\n              currentInfo={currentBoxerInfo.info}\r\n              id={currentBoxerInfo._id}\r\n              newAdded={newAdded}\r\n            />\r\n          )}\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <div className=\"viewBoxer__footer\">\r\n            <Button onClick={() => dispatch(toggleEditInfoBar())} variant=\"danger\">\r\n              Update Info\r\n            </Button>\r\n            <Button onClick={props.onHide} variant=\"danger\">\r\n              Close\r\n            </Button>\r\n          </div>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ViewBoxer;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}